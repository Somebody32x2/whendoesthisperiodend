import{s as R,o as pe,n as K,b as ae,f as ne}from"../chunks/scheduler.rao8-JGV.js";import{S as be,i as ge,g as v,s as S,h as k,j as y,y as Q,c as I,f as m,k as E,a as F,x as d,t as P,b as U,d as L,e as B,p as J,z as ie,r as fe,u as ue,v as ce,w as he,m as b,n as g}from"../chunks/index.EIsLXCri.js";import{s as j,S as ve,D as G,e as H,u as X,f as ke,o as Y,P as _e}from"../chunks/WS.77PwV5SJ.js";function Z(s,e,o){const r=s.slice();return r[10]=e[o][0],r[11]=e[o][1],r[12]=e,r[13]=o,r}function ee(s,e,o){const r=s.slice();return r[10]=e[o][0],r[11]=e[o][1],r[14]=e,r[13]=o,r}function ye(s){let e,o=s[0],r,a,i,n,c=te(s);function _(f){s[6](f,s[13])}let p={tween:!0,color:s[11].color,size:"xs",radius:"sm",striped:!0,animate:!0,class:"w-full py-2"};return s[1][s[13]]!==void 0&&(p.value=s[1][s[13]]),a=new _e({props:p}),ae.push(()=>ie(a,"value",_)),{c(){e=v("div"),c.c(),r=S(),fe(a.$$.fragment),this.h()},l(f){e=k(f,"DIV",{class:!0});var u=y(e);c.l(u),r=I(u),ue(a.$$.fragment,u),u.forEach(m),this.h()},h(){E(e,"class","mt-10 px-2")},m(f,u){F(f,e,u),c.m(e,null),d(e,r),ce(a,e,null),n=!0},p(f,u){s=f,u&1&&R(o,o=s[0])?(c.d(1),c=te(s),c.c(),c.m(e,r)):c.p(s,u);const t={};!i&&u&18&&(i=!0,t.value=s[1][s[13]],ne(()=>i=!1)),a.$set(t)},i(f){n||(L(a.$$.fragment,f),n=!0)},o(f){P(a.$$.fragment,f),n=!1},d(f){f&&m(e),c.d(f),he(a)}}}function te(s){let e,o,r,a=s[11].percentDone.toFixed(me(s[11]))+"",i,n,c=s[11].label+"",_,p,f,u,t,l=de(s[11])+"",h,V,T=s[11].timeLeft.milliseconds>0?"left":"ago",A,x,q=(s[11].showEndpoints?` | ${s[11].start.toFormat("h:mma")} - ${s[11].end.toFormat("h:mma")}`.replaceAll(" ","Â "):"")+"",C,M;return{c(){e=v("div"),o=v("p"),r=v("b"),i=b(a),n=b(`%
                                    done
                                    with `),_=b(c),p=S(),f=v("p"),u=b("("),t=v("b"),h=b(l),V=b("Â "),A=b(T),x=v("b"),C=b(q),M=b(")"),this.h()},l(D){e=k(D,"DIV",{class:!0});var $=y(e);o=k($,"P",{class:!0});var O=y(o);r=k(O,"B",{class:!0});var z=y(r);i=g(z,a),z.forEach(m),n=g(O,`%
                                    done
                                    with `),_=g(O,c),O.forEach(m),p=I($),f=k($,"P",{class:!0});var w=y(f);u=g(w,"("),t=k(w,"B",{});var N=y(t);h=g(N,l),N.forEach(m),V=g(w,"Â "),A=g(w,T),x=k(w,"B",{});var W=y(x);C=g(W,q),W.forEach(m),M=g(w,")"),w.forEach(m),$.forEach(m),this.h()},h(){E(r,"class","text-lg sm:text-xl lg:text-2xl"),E(o,"class","lg:mx-2"),E(f,"class","text-lg sm:text-xl lg:text-2xl"),E(e,"class","text-md sm:text-xl lg:text-2xl flex flex-col lg:flex-row justify-center")},m(D,$){F(D,e,$),d(e,o),d(o,r),d(r,i),d(o,n),d(o,_),d(e,p),d(e,f),d(f,u),d(f,t),d(t,h),d(f,V),d(f,A),d(f,x),d(x,C),d(f,M)},p:K,d(D){D&&m(e)}}}function le(s,e){let o,r,a,i=!!e[11]&&ye(e);return{key:s,first:null,c(){o=B(),i&&i.c(),r=B(),this.h()},l(n){o=B(),i&&i.l(n),r=B(),this.h()},h(){this.first=o},m(n,c){F(n,o,c),i&&i.m(n,c),F(n,r,c),a=!0},p(n,c){e=n,e[11]&&i.p(e,c)},i(n){a||(L(i),a=!0)},o(n){P(i),a=!1},d(n){n&&(m(o),m(r)),i&&i.d(n)}}}function we(s){let e,o=s[0],r,a,i,n,c,_=se(s);function p(u){s[7](u,s[13])}let f={tween:!0,color:s[11].color,size:"xs",radius:"sm",striped:!0,animate:!0,class:"w-full py-2"};return s[2][s[13]]!==void 0&&(f.value=s[2][s[13]]),a=new _e({props:f}),ae.push(()=>ie(a,"value",p)),{c(){e=v("div"),_.c(),r=S(),fe(a.$$.fragment),n=S(),this.h()},l(u){e=k(u,"DIV",{class:!0});var t=y(e);_.l(t),r=I(t),ue(a.$$.fragment,t),n=I(t),t.forEach(m),this.h()},h(){E(e,"class","mt-10 px-2")},m(u,t){F(u,e,t),_.m(e,null),d(e,r),ce(a,e,null),d(e,n),c=!0},p(u,t){s=u,t&1&&R(o,o=s[0])?(_.d(1),_=se(s),_.c(),_.m(e,r)):_.p(s,t);const l={};!i&&t&36&&(i=!0,l.value=s[2][s[13]],ne(()=>i=!1)),a.$set(l)},i(u){c||(L(a.$$.fragment,u),c=!0)},o(u){P(a.$$.fragment,u),c=!1},d(u){u&&m(e),_.d(u),he(a)}}}function se(s){let e,o,r,a=s[11].percentDone.toFixed(me(s[11]))+"",i,n,c=s[11].label+"",_,p,f,u,t,l=de(s[11])+"",h,V,T=s[11].timeLeft.milliseconds>0?"left":"ago",A,x,q=(s[11].showEndpoints?` | ${s[11].start.toFormat("h:mma")} - ${s[11].end.toFormat("h:mma")}`.replaceAll(" ","Â "):"")+"",C,M;return{c(){e=v("div"),o=v("p"),r=v("b"),i=b(a),n=b(`%
                                    done
                                    with `),_=b(c),p=S(),f=v("p"),u=b("("),t=v("b"),h=b(l),V=b("Â "),A=b(T),x=v("b"),C=b(q),M=b(")"),this.h()},l(D){e=k(D,"DIV",{class:!0});var $=y(e);o=k($,"P",{class:!0});var O=y(o);r=k(O,"B",{class:!0});var z=y(r);i=g(z,a),z.forEach(m),n=g(O,`%
                                    done
                                    with `),_=g(O,c),O.forEach(m),p=I($),f=k($,"P",{class:!0});var w=y(f);u=g(w,"("),t=k(w,"B",{});var N=y(t);h=g(N,l),N.forEach(m),V=g(w,"Â "),A=g(w,T),x=k(w,"B",{});var W=y(x);C=g(W,q),W.forEach(m),M=g(w,")"),w.forEach(m),$.forEach(m),this.h()},h(){E(r,"class","text-lg sm:text-xl lg:text-2xl"),E(o,"class","lg:mx-2"),E(f,"class","text-lg sm:text-xl lg:text-2xl"),E(e,"class","text-md sm:text-xl lg:text-2xl flex flex-col lg:flex-row justify-center")},m(D,$){F(D,e,$),d(e,o),d(o,r),d(r,i),d(o,n),d(o,_),d(e,p),d(e,f),d(f,u),d(f,t),d(t,h),d(f,V),d(f,A),d(f,x),d(x,C),d(f,M)},p:K,d(D){D&&m(e)}}}function re(s,e){let o,r,a,i=!!e[11]&&we(e);return{key:s,first:null,c(){o=B(),i&&i.c(),r=B(),this.h()},l(n){o=B(),i&&i.l(n),r=B(),this.h()},h(){this.first=o},m(n,c){F(n,o,c),i&&i.m(n,c),F(n,r,c),a=!0},p(n,c){e=n,e[11]&&i.p(e,c)},i(n){a||(L(i),a=!0)},o(n){P(i),a=!1},d(n){n&&(m(o),m(r)),i&&i.d(n)}}}function oe(s){let e=[],o=new Map,r,a=[],i=new Map,n,c,_=H(Object.entries(s[4].bars));const p=t=>t[10];for(let t=0;t<_.length;t+=1){let l=ee(s,_,t),h=p(l);o.set(h,e[t]=le(h,l))}let f=H(Object.entries(s[5]));const u=t=>t[10];for(let t=0;t<f.length;t+=1){let l=Z(s,f,t),h=u(l);i.set(h,a[t]=re(h,l))}return{c(){for(let t=0;t<e.length;t+=1)e[t].c();r=S();for(let t=0;t<a.length;t+=1)a[t].c();n=B()},l(t){for(let l=0;l<e.length;l+=1)e[l].l(t);r=I(t);for(let l=0;l<a.length;l+=1)a[l].l(t);n=B()},m(t,l){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(t,l);F(t,r,l);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(t,l);F(t,n,l),c=!0},p(t,l){l&19&&(_=H(Object.entries(t[4].bars)),J(),e=X(e,l,p,1,t,_,o,r.parentNode,Y,le,r,ee),U()),l&37&&(f=H(Object.entries(t[5])),J(),a=X(a,l,u,1,t,f,i,n.parentNode,Y,re,n,Z),U())},i(t){if(!c){for(let l=0;l<_.length;l+=1)L(e[l]);for(let l=0;l<f.length;l+=1)L(a[l]);c=!0}},o(t){for(let l=0;l<e.length;l+=1)P(e[l]);for(let l=0;l<a.length;l+=1)P(a[l]);c=!1},d(t){t&&(m(r),m(n));for(let l=0;l<e.length;l+=1)e[l].d(t);for(let l=0;l<a.length;l+=1)a[l].d(t)}}}function Ee(s){let e,o,r=`Back to Old
        Version`,a,i,n="When Does This Period End?",c,_,p=s[3],f,u=oe(s);return{c(){e=v("div"),o=v("a"),o.textContent=r,a=S(),i=v("h1"),i.textContent=n,c=S(),_=v("div"),u.c(),this.h()},l(t){e=k(t,"DIV",{class:!0});var l=y(e);o=k(l,"A",{class:!0,href:!0,"data-svelte-h":!0}),Q(o)!=="svelte-9c98ct"&&(o.textContent=r),a=I(l),i=k(l,"H1",{class:!0,"data-svelte-h":!0}),Q(i)!=="svelte-9z8icw"&&(i.textContent=n),c=I(l),_=k(l,"DIV",{class:!0});var h=y(_);u.l(h),h.forEach(m),l.forEach(m),this.h()},h(){E(o,"class","underline hidden lg:block absolute top-0 right-1"),E(o,"href","/whendoesthisperiodend_old"),E(i,"class","text-3xl md:text-5xl font-black mx-10 max-lg:mt-8"),E(_,"class","w-full md:w-[75%] text-center my-10"),E(e,"class","w-full min-h-[100vh] flex items-center justify-center flex-col dark:bg-gray-800 dark:text-white relative")},m(t,l){F(t,e,l),d(e,o),d(e,a),d(e,i),d(e,c),d(e,_),u.m(_,null),f=!0},p(t,[l]){l&8&&R(p,p=t[3])?(J(),P(u,1,1,K),U(),u=oe(t),u.c(),L(u,1),u.m(_,null)):u.p(t,l)},i(t){f||(L(u),f=!0)},o(t){P(u),f=!1},d(t){t&&m(e),u.d(t)}}}let $e=0;function de(s){return s.timeLeft.toFormat(`${+s.timeLeft.toFormat("d")>0?`d' day${+s.timeLeft.toFormat("d")!=1?"s":""}, '`:""}hh:mm:ss:SSS`).replaceAll(" ","Â ").replaceAll("-","")}function me(s){return Math.floor(Math.log10(s.end.toMillis()-s.start.toMillis())-3)+$e}function xe(s,e,o){let r=ke,a=0,i=new Array(j.length).fill(0),n={grad:new ve("grad","Senior Graduation ðŸŽ‰",G.fromISO("2025-08-11T08:30"),G.fromISO("2026-05-21T08:30"),!0,"yellow",!1)},c=new Array().fill(0),_=[],p=0;pe(()=>{o(0,a++,a);let t=G.now();setInterval(()=>{r.bars[j[0]]?document.title=`${r.bars[j[0]]?.percentDone.toFixed(1)}% | ${r.bars[j[0]]?.timeLeft.toFormat("h:mm:ss")}`:r.bars[j[1]]?document.title=`${r.bars[j[1]]?.percentDone.toFixed(1)}% | ${r.bars[j[1]]?.timeLeft.toFormat("h:mm:ss")}`:document.title="When Does This Period End?",t.toFormat("d")!==G.now().toFormat("d")&&location.reload(),t=G.now()},1e3),setInterval(()=>{r.update();for(let h=0;h<j.length;h++)r.bars[j[h]]&&o(1,i[h]=r.bars[j[h]]?.percentDone,i);for(let h=0;h<Object.keys(n).length;h++)n[Object.keys(n)[h]].update(),o(2,c[h]=n[Object.keys(n)[h]]?.percentDone,c);let l=Object.keys(r.bars).filter(h=>r.bars[h]!==void 0);(l.some(h=>!_.includes(h))||l.length!==_.length)&&(console.log({bars:l,lastBars:_,fullUpdateRequest:p}),_=l,o(3,p++,p)),o(0,a++,a)},23)});function f(t,l){s.$$.not_equal(i[l],t)&&(i[l]=t,o(1,i))}function u(t,l){s.$$.not_equal(c[l],t)&&(c[l]=t,o(2,c))}return[a,i,c,p,r,n,f,u]}class Be extends be{constructor(e){super(),ge(this,e,xe,Ee,R,{})}}export{Be as component};
